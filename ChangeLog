ChangeLog for eselect

2005-10-17 Aaron Walker <ka0ttic@gentoo.org>
	
	* configure.ac: Update version to 1.0_rc1 for pending release.
	* Makefile.am, man/Makefile.am, bin/Makefile.am: move 'symlinks'
	variable declaration to top-level Makefile.am so both man/Makefile.am
	and bin/Makefile.am can use it to generate symlinks (ie foo-config ->
	eselect and foo.eselect.5 -> foo-config.1).
	* modules/profile.eselect: Updated find_targets function to accept an
	optional argument, portdir, so that if specified it doesn't need to
	invoke portageq.  This prevents portageq from being invoked twice when
	the 'set' action is executed.
	* modules/kernel.eselect, modules/binutils.eselect,
	modules/mailer.eselect: Add describe_set_options and
	describe_set_parameters.
	* modules/bashcomp.eselect: Add describe_list_options since it also
	accepts --global.
	* man/kernel.eselect.5: Added manual page for kernel.eselect.
	* man/profile.eselect.5: Fixed a typo.
	* modules/rc.eselect: Bail on actions that require paramaters when the
	user doesn't specify them.  Also added describe_action_options and
	describe_action_parameters for each action that requires a parameter.
	Also fixed vim ft s/ebuild/eselect/.

2005-10-16 Jeremy Huddleston <eradicator@gentoo.org>
	* modules/compiler.eselect.in: Added describe_*_{parameters,options}

2005-10-16 Ciaran McCreesh <ciaranm@gentoo.org>

	* modules/vi.eselect: Tidy up.

2005-10-16 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/opengl.eselect: Added describe_set_{parameters,options}

2005-10-16 Ciaran McCreesh <ciaranm@gentoo.org>

	* doc/developer-guide.txt: Documentation for options and parameters.
	* modules/bashcomp.eselect, modules/profile.eselect,
	modules/cow.eselect: Implement actions and parameters.
	* libs/default.eselect.in: Add describe_action_options and
	describe_action_parameters support for default help action.
	* libs/output.bash.in: Add -p option to write_ things.
	* autogen.sh -> autogen.bash, doc/release-guide.txt, Makefile.am: Make
	autogen work on systems with weirder autotools setups.

2005-10-16 Danny van Dyk <kugelfang@gentoo.org>

	* modules/rc.eselect: Fixed Bug #106540.

2005-10-06 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Ignore symlinks in the binpath.  Fixed
	  a bug where selecting a non-native compiler removed the native
	  binaries.  Use bin_prefix to determine reference file for timestamp
	  which is needed for the alternate targets of multilib crosscompilers.

2005-10-05 Aaron Walker <ka0ttic@gentoo.org>

	* modules/profile.eselect: Add a --force option to 'set' sub-command
	so that users can force a profile set even if the profile is not
	recognized as valid.
	* man/profile.eselect.5: Document --force.

2005-10-05 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Support .s in CTARGET.  Made logic
	  smarter when determining reference file for timestamp for crossdev.
	  Fixed a bug in migrate using spec instead of specs.  Fixed a bug in
	  get_bins on crosscompilers.

2005-10-01 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Added getval action to query configs
	  and give backwards support for -X, -L, and -B in gcc-config.

2005-09-30 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Added migrate action to migrate from
	  1.x configs.

2005-09-24 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Added show and unset actions.

2005-09-16 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Some cleanup and added update action.

2005-09-13 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/opengl.eselect: fixed ACTION->action

2005-09-11 Aaron Walker <ka0ttic@gentoo.org>

	* libs/multilib.bash.in: Don't use absolute paths to executables!

2005-09-11 Danny van Dyk <kugelfang@gentoo.org>

	* modules/ruby.eselect: Added ruby module, written by Michael Kohl
	<citizen428@gentoo.org>.

2005-09-10 Danny van Dyk <kugelfang@gentoo.org>

	* bin/eselect.in: Fixed Bug in usage of has(). Thanks to Sven Wegener
	<swegener@gentoo.org> for spotting this.
	* man/opengl.eselect: Added manpage for opengl module.
	* libs/portage.bash.in, libs/Makefile.am,
	configure.ac, modules/binutils.eselect, modules/config.eselect,
	modules/opengl.eselect, modules/profile.eselect: Added portage
	library, moved profile.eselect:get_arch() to portage.bash:arch().
	* doc/developer-guide.txt: Changed documentation acording to API
	changes (inherit / core.bash-split).

2005-09-05 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/opengl.eselect: Cleaned up code to conform to eselect
	coding style.  Make better use of the eselect API.  Fixed a bug with
	--impl-headers.  Many thanks to Danny van Dyk <kugelfang@gentoo.org>.

2005-09-05 Danny van Dyk <kugelfang@gentoo.org>

	* libs/core.bash.in: Added inherit() function that allows dynamic
	and individual sourcing of libraries for each module.
	* bin/eselect.in: Removed sourcing of all available libraries and set
	up default libraries to inherit.
	* libs/core.bash.in, libs/path-manipulation.bash.in, libs/Makefile.in:
	Moved basename() and dirname() to a new seperate library.
	* libs/core.bash.in, libs/test.bash.in: moved has() and is_function()
	to tests library.
	* modules/binutils.eselect, modules/blas.eselect, modules/env.eselect,
	modules/lapack.eselect, modules/opengl.eselect: Added necessary
	inherit lines.

2005-09-04 Danny van Dyk <kugelfang@gentoo.org>

	* modules/blas.eselect: Fixed a bug about setting implementation to
	reference in case we had an active C implementation already. Storing
	configuration will now be handled after the setup_*() step.
	* modules/lapack.eselect: Storing configuration will now be handled
	after the setup_*() step.
	* modules/rc.eselect: Fixed a 'file not found' bug on bogus
	baselayouts thanks to Mike Doty <kingtaco@gentoo.org>.

2005-08-31 Danny van Dyk <kugelfang@gentoo.org>

	* modules/kernel.eselect: Fixed bug #104354. kernel.eselect now looks
	only for linux-kernel directories w/o listing source directories of
	additional drivers.

2005-08-23 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/compiler.eselect.in: Added eselect module for the
	forthcoming compiler-config-2.0 (formerly gcc-config).  It is alpha
	code and currently only supports set and list actions.

2005-08-23 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/opengl.eselect: Fixed a bug in creating symlinks to header 
	files.

2005-08-17 Jeremy Huddleston <eradicator@gentoo.org>

	* modules/opengl.eselect: Added opengl module.  Not adding to 
	Makefile.am as it's not going to be installed with the base package.

2005-08-08 Aaron Walker <ka0ttic@gentoo.org>

	* man/bashcomp.eselect.5: Add missing description of --global flag.

2005-07-25 Danny van Dyk <kugelfang@gentoo.org>

	* modules/Makefile.am: Moved binutils.eselect out of dodgy-scripts.
	* modules/binutils.eselect: Removed outdated comments.
	* Tagged 0.9.6 release.
	* NEWS: Added 0.9.6 release news.
	* configure.ac: Updated version number.
	* man/Makefile.am, man/binutils.eselect.5: Added manpage for binutils
	module.
	* modules/binutils.eselect, modules/env.eselect: Check for sane
	parameters and root access.

2005-07-23 Danny van Dyk <kugelfang@gentoo.org>

	* libs/config.bash.in: Fixed a condition in store_config as it needs at
	least 2 parameters, not 3.
	* modules/env.eselect: Removed check on storing empty vars. Added
	support for updating ld.so.cache. Added a mtime database for all items
	of LDPATH. Fixed last bugs that kept it in dodgy-scripts.
	* modules/Makefile.am: Removed env.eselect from dodgy-scripts.
	* man/env.eselect.5, man/Makefile.am: Added a manpage for env.eselect.
	* modules/binutils.eselect: Uses env.eselect now instead of env-update.
	Fixed condition for environment updates.

2005-07-19 Danny van Dyk <kugelfang@gentoo.org>

	* libs/core.bash.in: Fixed order of paramters.
	* modules/blas.eselect, modules/env.eselect, modules/lapack.eselect:
	Fixed all calls to has() due to change of paramter order.
	* modules/env.eselect: Tidied code up, add prelink.conf code. These
	file are now sanley created: /etc/profile.env, /etc/ld.so.conf,
	/etc/prelink.conf.
	* module/env.eselect: Removed LDPATH from inclusion into profile.env.

2005-07-16 Danny van Dyk <kugelfang@gentoo.org>

	* modules/env.eselect: Fixed a 'first element of array'-type bug.
	ld.so.conf creation is now fully functional.

2005-07-12 Danny van Dyk <kugelfang@gentoo.org>

	* modules/env.eselect, modules/Makefile.am: Added initial env module.

2005-07-03 Aaron Walker <ka0ttic@gentoo.org>

	* libs/core.bash.in: Added dirname/basename wrapper functions which use
	bash instead of launching their external counterparts.
	* modules/bashcomp.eselect: Use basename instead of ${var##*/}
	constructs.

2005-06-19 Danny van Dyk <kugelfang@gentoo.org>

	* libs/output.bash.in: Watch out for escaped spaces and concatenate
	items accordingly. Fixes BUG #95886.
	* modules/binutils.eselect: Removed the echo before each ln call to
	enable it. Fixed the order of is_active() and loading of VERSION and
	TARGET. Added a check on whether the selected profile exists in
	/etc/env.d/binutils/.

2005-06-18 Aaron Walker <ka0ttic@gentoo.org>

	* Tagged 0.9.5 release.
	* acinclude.m4: Added ES_PROG_GNU_SED macro for checking the path to
	GNU sed.  This allows eselect to work on platforms where GNU sed is
	"gsed" not "sed".
	* configure.ac: Update version; added call to our new ES_PROG_GNU_SED
	macro.
	* libs/core.bash.in: Added 'sed() { @SED@ $* ; }' so that everything
	else transparently uses GNU sed.
	* libs/output.bash.in: Fixed typo in write_kv_list_entry() that caused
	misaligned value text.
	* bin/eselect.in: Added missing 'shift' when unrecognized global
	options are encountered.  Otherwise an infinite loop occurs if a user
	specifies one.  Also added ec_do_list-options() and updated
	ec_do_help() to call it.
	* bin/Makefile.am: Add bashcomp-config to symlinks list.
	* doc/developer-guide.txt: Fixed headers so that it'll compile.
	* modules/bashcomp.eselect: Fixed bug if do_list is passed an argument
	besides --global.
	* man/eselect.1: updated usage info with global options. Added OPTIONS
	section where global options will be described.
	* README, man/profile.eselect.5: Fixed minor typo.
	* man/Makefile.am, man/bashcomp.eselect.5: Added manual page for
	bashcomp.eselect.
	* misc/eselect.bashcomp: Parse 'eselect help' instead of 'eselect
	list-modules' so that we can pick up supported global options and add
	them to possible completions.  This means we *never* will have to edit
	this file when we add new global options.
	* Makefile.am: Added html target to generate HTML for TODO and README
	in addition to those in doc/.
	* modules/blas.eselect, modules/lapack.eselect: Don't hardcode the
	path to readlink.  Also, fixed a few libblas -> libcblas typo's on
	Kugelfang's behalf.

2005-06-17 Danny van Dyk <kugelfang@gentoo.org>

	* libs/output.bash.in: Moved back to use COLOUR_* envvars instead of a
	function, as the latters slows down eselect. Also,
	write_kv_list_entry() and write_numbered_list_entry() now use space().
	* bin/eselect.in: Introduced new var which holds all known global
	options. The global option parser now checks for those.

2005-06-16 Aaron Walker <ka0ttic@gentoo.org>

	* misc/eselect.bashcomp: Updated to take global options into
	consideration.
	* bin/eselect.in: recognize the us'ian --no-color in addition to
	--no-colour.
	* libs/output.bash.in: fixed bug in nocolour handling that caused
	literal interpretation of '*' in $(highlight '*') thus causing the
	contents of the ${PWD} to be displayed instead.
	* doc/release-guide.txt: Removed the now irrelevant section on
	doing the release on berlios.

2005-06-15 Shyam Mani <fox2mike@gentoo.org>
	* doc/developer-guide.txt: Removed redundant sections and fixed up a
	bit of RST. This will be the version that initial GuideXML will sync
	with.

2005-06-15 Aaron Walker <ka0ttic@gentoo.org>

	* modules/bashcomp.eselect: Rewrote most of the module.  Removed
	do_show() since do_list now correctly identifies currently enabled
	completions.  Also do_enable/do_disable now work with list numbers as
	they should.

2005-06-13 Aaron Walker <ka0ttic@gentoo.org>

	* doc/release-guide.txt: Updated to mention updating configure.ac
	version number.

2005-06-13 Danny van Dyk <kugelfang@gentoo.org>

	* Tagged 0.9.4 release.

2005-06-13 Shyam Mani <fox2mike@gentoo.org>
	* doc/overview.txt: Removed, since it is obsolete.
	* doc/user-guide.txt: Updated with info which was in overview.

2005-06-12 Danny van Dyk <kugelfang@gentoo.org>

	* modules/rc.eselect: Fix hardcoded path to ln.
	* libs/config.bash.in: Restructured functions to take a filename as
	first argument.
	* modules/blas.eselect,modules/lapack.eselect: Fixed modules to
	respect new syntax of *_config functions.
	* doc/developer-guide.txt: Documented new behaviour of *_config
	functions.
	* modules/blas.eselect,modules/lapack.eselect,modules/profiles.eselect:
	The list action now marks active options with a highlighted *.
	* modules/binutils.eselect: Added initial and unfunctional version of
	binutils.eselect.

2005-06-08 Danny van Dyk <kugelfang@gentoo.org>

	* bin/eselect.in: Added handling of global options in main code.
	* libs/core.bash.in: Removed COLOUR_* vars.
	* libs/output.bash.in: Added function colours() which replaces all
	${COLOURS_*} uses and respects the --no-colour option.
	* docs/developer-guide.txt,docs/user-guide.txt: Added reference to
	global options and --no-colour.

2005-06-07 Danny van Dyk <kugelfang@gentoo.org>

	* Renamed to 'eselect'.
	* Moved to Gentoo infrastructure.

2005-05-26 Danny van Dyk <kugelfang@gentoo.org>

	* modules/rc.eselect: Added actions start, stop, restart and pause. 

2005-05-16 Ciaran McCreesh <ciaranm@gentoo.org>

	* bin/Makefile.am: Install symlinks for kernel-config, profile-config,
	rc-config
	* libs/output.bash.in: Make highlighting work with bash-2.

	* Tag 0.9.3 release.
	* doc/overview.txt, doc/Makefile.am: Add an 'overview' document.
	* configure.ac, modules/Makefile.am: Add --enable-dodgy-modules to
	install incomplete / experimental things (config, cow, vi).

2005-05-16 Tom Martin <slarti@gentoo.org>

	* modules/mailer.eselect: Handle no available targets. Mark the
	currently active profile when doing list.

2005-05-15 Aaron Walker <ka0ttic@gentoo.org>

	* man/Makefile.am: Add missing manual page.

2005-05-15 Ciaran McCreesh <ciaranm@gentoo.org>

	* modules/config.eselect, modules/cow.eselect,
	modules/mailer.eselect, modules/lapack.eselect,
	modules/bashcomp.eselect, modules/vi.eselect,
	modules/kernel.eselect, modules/profile.eselect,
	modules/blas.eselect, modules/rc.eselect: Switch vim modelines to
	use eselect rather than ebuild as the filetype.
	* modules/kernel.eselect: Handle no available targets. Mark the
	currently active kernel symlink when doing list.
	* libs/core.bash.in: Don't allow eval, since it's evil and leads to
	horridly broken code.

2005-05-14 Aaron Walker <ka0ttic@gentoo.org>

	* libs/core.bash.in: Updated do_action() to display the correct usage
	message depending on how eselect was invoked.

2005-05-14 Ciaran McCreesh <ciaranm@gentoo.org>

	* modules/mailer.eselect, modules/vi.eselect,
	modules/kernel.eselect, modules/profile.eselect: Switch to use
	is_number.
	* modules/mailer.eselect: Make 'set by number' work.

2005-05-14 Elfyn McBratney <beu@gentoo.org>

	* bin/eselect.in: Support both -update and -updater suffixes.

2005-05-14 Danny van Dyk <kugelfang@gentoo.org>

	* modules/rc.eselect: Do not show files ending in '~'. Added to the
	Makefile.am, too.

2005-05-12 Danny van Dyk <kugelfang@gentoo.org>

	* modules/mailer.eselect, modules/blas.eselect,
	modules/lapack.eselect: Use SVN_DATE.
	* module/rc.eselect: Added module rc.
	* man/rc.eselect.5: Added manpage for module rc.
	* modules/blas.eselect: Add preliminary support for "threaded-ATLAS".

2005-05-10 Aaron Walker <ka0ttic@gentoo.org>

	* modules/profile.eselect, modules/bashcomp.eselect: Use SVN_DATE.

2005-05-10 Ciaran McCreesh <ciaranm@gentoo.org>

	* autogen.sh: Make config dir if it's not there already.
	* man/eselect.1: Include note about full docs.
	* doc/developer-guide.txt: Document manip functions.
	* modules/config.eselect, modules/cow.eselect, modules/vi.eselect,
	modules/kernel.eselect: Update to use SVN date as the version number.
	* libs/manip.bash.in, libs/Makefile.am, bin/eselect.in: Add manip
	library for text manipulation functions. svn_date_to_version will
	convert an SVN date string into a nice VERSION number.

2005-05-09 Aaron Walker <ka0ttic@gentoo.org>

	* misc/eselect.bashcomp: Parse list-modules/usage instead of relying
	on the assumption that the default action will give us what we want.

2005-05-09 Ciaran McCreesh <ciaranm@gentoo.org>

	* configure.in -> configure.ac, autogen.sh: Switch to automake 1.9.
	* TODO: Add TODO file. Future changes to this file won't go in to this
	ChangeLog.
	* AUTHORS, README: Move authors into the AUTHORS file.
	* INSTALL: Add INSTALL file as per GNU rules.
	* doc/developer-guide.txt: Update with new functions.
	* doc/release-guide.txt: Add in an RST version of Aaron's "how to do
	releases" document.

	* Merge from branches/ciaranm/config:
	* bin/eselect.in: Better prefix/suffix support. Now recognises
	prefixes config-, update-, manage- and suffixes -config, -update,
	-tool, -manager.
	* libs/output.bash.in, libs/core.bash.in: Add highlight_warning
	function.
	* bin/eselect.in, libs/tests.bash.in, libs/Makefile.am: Add tests
	library. Currently one function, is_number.
	* libs/default.eselect.in: Allow show_extra_help_text as part of
	the default help action. Show extra usage message if appropriate.
	* modules/config.eselect, modules/Makefile.am: Add initial version of
	the config plugin. Not production ready.

2005-05-08 Aaron Walker <ka0ttic@gentoo.org>

	* Makefile.am: no foreign.

	* Tag 0.9.2 release.
	* configure.in: Update version (0.9.2).
	* modules/profile.eselect: Re-fix profile module since the
	profile-symlink -> profile move reverted the changes.
	* modules/bashcomp.eselect: do_show should return 0.
	* bin/eselect.in, bin/Makefile.am: Use %VERSION%.

2005-05-08 Ciaran McCreesh <ciaranm@gentoo.org>

	* libs/output.bash.in, libs/core.bash.in: Add in somewhat experimental
	text highlighting functionality.
	* doc/developer-guide.txt: Document highlight function.

2005-05-08 Danny van Dyk <kugelfang@gentoo.org>

	* modules/blas.eselect: update -> scan transition complete.
	* modules/lapack.eselect: update -> scan. Fixed directory settings
	for lapack-atlas and lapack-reference.

2005-05-08 Tom Martin <slarti@gentoo.org>
	
	* modules/mailer.eselect: Fix find_targets. If the glob didn't
	match, it was interpreted as a literal string. Fix a stupid typo
	(findi_targets -> find_targets).

2005-05-07 Ciaran McCreesh <ciaranm@gentoo.org>

	* Tag for release 0.9.1
	* configure.in: Version is now 0.9.1.
	* doc/user-guide.txt, doc-developer.txt: Clarify update and scan
	action definitions, update formatting and wording.

2005-05-07 Danny van Dyk <kugelfang@gentoo.org>

	* doc/user-guide.txt: Added a first draft of the user docs.

2005-05-07 Ciaran McCreesh <ciaranm@gentoo.org>

	* doc/developer-guide.txt: Fix formatting, typos. Add a bit more about
	how eselect works.
	* doc/Makefile.am: Make this much more generic.
	* misc/Makefile.am: Add Makefile.in to maintainer-clean targets.

2005-05-07 Tom Martin <slarti@gentoo.org>

	* man/mailer.eselect.5: Add a man page for mailer.eselect.
	* modules/mailer.eselect: Add a check_dirs() function for
	sanity checking /etc/mail/.

2005-05-07 Danny van Dyk <kugelfang@gentoo.org>

	* man/profile.eselect.5: Fixed typos.
	* doc/developer-guide.txt: Added descriptions for the multilib.bash
	and config.bash functions.

2005-05-07 Ciaran McCreesh <ciaranm@gentoo.org>

	* doc/: Add initial developer docs.
	* libs/core.bash.in: Fix bug in has so that it is consistent with
	portage syntax.
	* modules/blas.eselect, modules/lapack.eselect: Update to new has
	syntax.

2005-05-07 Aaron Walker <ka0ttic@gentoo.org>

	* modules/profile-symlink.eselect: Fix sed to use current
	profiles.desc format. Also, ensure that explicitly specified profiles
	are actually valid for the host arch.
	* man/Makefile.am: Add missing manual pages.
	* man/profile.eselect.5: Add missing '.br'.
	* configure.in, Makefile.am, doc/Makefile.am: Added Makefile.am for
	doc/ with html target.

2005-05-07 Danny van Dyk <kugelfang@gentoo.org>

	* libs/output.bash.in: Added function 'space'.
	* libs/default.eselect.in: Fixed do_usage to filter 'action'.
	* man/blas.eselect: Added missing Section 'ACTION: SET'.
	* man/lapack.eselect: Added a manpage for the lapack module.
	* man/profile.eselect: Added a manpage for profile.
	* modules/blas.eselect: Finalized this module.
	* modules/lapack.eselect: Added lapack module.

2005-04-25 Tom Martin <slarti@gentoo.org>

	* modules/mailer.eselect: Added mailwrapper module.

2005-04-11 Aaron Walker <ka0ttic@gentoo.org>

	* man/Makefile.am: forgot to add $(man_MANS) to EXTRA_DIST.
	* modules/profile.eselect: Added make.profile module.
	* modules/bashcomp.eselect: Fixed do_list to ignore *~.
	* misc/Makefile.am: Added Makefile.am.
	* misc/eselect.bashcomp: Added eselect command-line completion.

2005-04-10 Aaron Walker <ka0ttic@gentoo.org>

	* man/Makefile.am: Added Makefile.am.

2005-04-07 Danny van Dyk <kugelfang@gentoo.org>

	* modules/blas.eselect: Added package information to outputs.
	* man/blas.eselect.1: Added a manpage for the blas module.

2005-04-04 Danny van Dyk <kugelfang@gentoo.org>

	* man/eselect.1: Added a rudimental manpage.

2005-03-24 Danny van Dyk <kugelfang@gentoo.org>

	* libs/config.bash.in: Fixed store_config(), added add_config().
	* libs/core.bash.in: Added function has().
	* libs/multilib.bash.in: Added multilib library.
	* modules/blas.eselect: Added blas module.

2005-02-22 Aaron Walker <ka0ttic@gentoo.org>

	* modules/bashcomp.eselect: Added bashcomp module.

2005-02-22 Ciaran McCreesh <ciaranm@gentoo.org>

	* ChangeLog: Start keeping a ChangeLog. GNU format.
